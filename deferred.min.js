// Generated by CoffeeScript 1.3.1
(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n=[].slice;e="1.3.2",b="pending",d="resolved",c="rejected",i=function(a,b){return a!=null?a.hasOwnProperty(b):void 0},k=function(a){return i(a,"length")&&i(a,"callee")},h=function(a){return k(a)?h(Array.prototype.slice.call(a)):Array.isArray(a)?a.reduce(function(a,b){return Array.isArray(b)?a.concat(h(b)):(a.push(b),a)},[]):[a]},f=function(a,b){return a<=0?b():function(){if(--a<1)return b.apply(this,arguments)}},l=function(a,b){return function(){var c;return c=[a].concat(Array.prototype.slice.call(arguments,0)),b.apply(this,c)}},g=function(a,b,c){var d,e,f,g,i;g=h(a),i=[];for(e=0,f=g.length;e<f;e++)d=g[e],i.push(d.call.apply(d,[c].concat(n.call(b))));return i},a=function(){var e,f,i,j,k,l;return l=b,j=[],k=[],e=[],i={},this.promise=function(f){var m,n;return f=f||{},f.state=function(){return l},n=function(a,c){return function(){return l===b&&c.push.apply(c,h(arguments)),a()&&g(arguments,i),f}},f.done=n(function(){return l===d},j),f.fail=n(function(){return l===c},k),f.always=n(function(){return l!==b},e),m=function(b,c){var d,e;return d=new a,e=function(a,b,c){return c?a(function(){return b(c.apply(null,h(arguments)))}):a(function(){return b.apply(null,h(arguments))})},e(f.done,d.resolve,b),e(f.fail,d.reject,c),d},f.pipe=m,f.then=m,f},this.promise(this),f=function(a,c,d){return function(){return l===b&&(l=a,i=arguments,g([c,e],i,d)),this}},this.resolve=f(d,j),this.reject=f(c,k),this.resolveWith=function(){var a,b;return b=arguments[0],a=2<=arguments.length?n.call(arguments,1):[],f(d,j,b).apply(null,a)},this.rejectWith=function(){var a,b;return b=arguments[0],a=2<=arguments.length?n.call(arguments,1):[],f(c,k,b).apply(null,a)},this},m=function(){var b,c,d,e,g,i,j,k;e=new a,c=h(arguments),d=f(c.length,e.resolve);for(g=0,j=c.length;g<j;g++)b=c[g],b.done(d);for(i=0,k=c.length;i<k;i++)b=c[i],b.fail(function(){return e.reject()});return e.promise()},j=function(b){return b.Deferred=function(){return new a},b.ajax=l(b.ajax,function(b,c){var d,e;return c==null&&(c={}),e=new a,d=function(a,b){return l(a,function(){var a,c;return c=arguments[0],a=2<=arguments.length?n.call(arguments,1):[],c&&c.apply(null,a),b.apply(null,a)})},c.success=d(c.success,e.resolve),c.error=d(c.error,e.reject),b(c),e.promise()}),b.when=m},typeof exports!="undefined"?(exports.Deferred=function(){return new a},exports.when=m,exports.installInto=j):(this.Deferred=function(){return new a},this.Deferred.when=m,this.Deferred.installInto=j)}).call(this);